import{j as e}from"./index-BczRz4ky.js";import{a as o,P as m}from"./progress-DmPhu3Xe.js";import{B as d}from"./crystal-icon-BR5-Rl_Z.js";import{u as h}from"./useCurrency-Ji0yYFK2.js";import{T as j}from"./select-DrkzBdXl.js";import{T as f}from"./Layout-Cjs2lFUa.js";function r(...t){return t.filter(Boolean).join(" ")}function w({source:t,summary:s,onEdit:n,onDelete:i,compact:x=!1}){const{formatAmount:c}=h(),l=s.totalIncome>0?s.totalSpent/s.totalIncome*100:0,a=s.debt>0;return e.jsxs("div",{className:"bg-card rounded-lg border p-3 hover:shadow-md transition-all hover:border-primary/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full flex-shrink-0",style:{backgroundColor:t.color}}),e.jsx("span",{className:"font-semibold text-sm truncate",children:t.name})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[n&&e.jsx(d,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>n(t),children:e.jsx(o,{className:"h-3.5 w-3.5"})}),i&&e.jsx(d,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>i(t.id),children:e.jsx(j,{className:"h-3.5 w-3.5"})})]})]}),e.jsx("div",{className:"space-y-2",children:x?e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Периодичность"}),e.jsx("p",{className:"text-sm font-medium",children:t.frequency})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Получено"}),e.jsx("p",{className:"text-base font-bold text-success break-words",children:c(s.totalIncome)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Потрачено"}),e.jsx("p",{className:"text-base font-bold text-destructive break-words",children:c(s.totalSpent)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Использовано"}),e.jsxs("span",{className:"font-medium",children:[l.toFixed(0),"%"]})]}),e.jsx(m,{value:l,className:"h-2"})]}),e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:r("text-xs font-medium",a?"text-destructive":"text-success"),children:a?"Долг":"Остаток"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(f,{className:r("h-3 w-3 flex-shrink-0",a?"text-destructive rotate-180":"text-success")}),e.jsx("span",{className:r("text-base font-bold break-words",a?"text-destructive":"text-success"),children:c(a?s.debt:s.remaining)})]})]})})]})})]})}export{w as I};
