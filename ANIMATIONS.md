# Анимации и свайпы - CrystalBudget

## Обзор
Добавлены плавные анимации и улучшенные свайпы для всех интерактивных элементов приложения.

## Новые компоненты

### 1. PullToRefresh (улучшенный)
**Файл:** `src/components/PullToRefresh.tsx`

**Возможности:**
- Плавная анимация притягивания с прогрессом
- Визуальная обратная связь с текстом
- Стрелка поворачивается при готовности к обновлению
- Плавные переходы между состояниями

**Использование:**
```tsx
<PullToRefresh onRefresh={loadData}>
  <div>Ваш контент</div>
</PullToRefresh>
```

### 2. ActionSheet
**Файл:** `src/components/ActionSheet.tsx`

**Возможности:**
- Свайп от левого края экрана (первые 20px) для открытия меню
- Визуальная обратная связь с подсветкой края
- Плавные анимации при свайпе

**Использование:**
```tsx
<ActionSheet isOpen={open} onOpenChange={setOpen}>
  <Sheet>...</Sheet>
</ActionSheet>
```

### 3. SwipeToClose
**Файл:** `src/components/SwipeToClose.tsx`

**Возможности:**
- Свайп влево для закрытия меню
- Визуальная обратная связь с красной подсветкой
- Работает только когда меню открыто

**Использование:**
```tsx
<SwipeToClose isOpen={open} onClose={() => setOpen(false)}>
  <Sheet>...</Sheet>
</SwipeToClose>
```

## Глобальные анимации

### CSS классы для анимаций
**Файл:** `src/styles/animations.css`

#### Кнопки
- `btn-smooth` - базовая анимация кнопки
- `btn-primary-smooth` - анимация для primary кнопок
- `btn-secondary-smooth` - анимация для secondary кнопок

#### Карточки
- `card-smooth` - анимация для карточек
- `card-interactive` - интерактивные карточки

#### Навигация
- `nav-item-smooth` - анимация элементов навигации
- `nav-item-active` - активный элемент навигации

#### Формы
- `input-smooth` - анимация полей ввода
- `form-group-smooth` - анимация групп форм

#### Иконки
- `icon-smooth` - базовая анимация иконок
- `icon-rotate-smooth` - иконки с поворотом при ховере

#### Эффекты
- `hover-lift` - подъем при ховере
- `hover-glow` - свечение при ховере
- `hover-scale` - масштабирование при ховере
- `text-gradient-smooth` - плавный градиент текста

## Обновленные компоненты

### MobileNav
- Интегрирован `ActionSheet` для открытия свайпом
- Интегрирован `SwipeToClose` для закрытия свайпом
- Добавлены анимации к элементам меню

### Auth страница
- Все кнопки получили плавные анимации
- Поля ввода с анимациями фокуса
- Карточка с hover эффектами
- Иконка с анимацией масштабирования

### Navigation
- Элементы навигации с плавными переходами
- Иконки с анимациями
- Активные состояния с тенями

### Layout
- Логотип с hover эффектами
- Заголовок с градиентной анимацией

## Технические детали

### Свайпы
1. **PullToRefresh:** Свайп вниз от верха экрана (70px для активации)
2. **ActionSheet:** Свайп вправо от левого края (первые 20px, 50px для активации)
3. **SwipeToClose:** Свайп влево (80px для активации)

### Анимации
- Все переходы используют `cubic-bezier(0.4, 0, 0.2, 1)`
- Длительность: 200ms для быстрых, 300ms для плавных
- Hover эффекты: масштабирование 1.02-1.05
- Активные состояния: масштабирование 0.95-0.98

### Производительность
- Используются CSS transitions вместо JavaScript анимаций
- Hardware acceleration через transform и opacity
- Минимальное количество repaints

## Совместимость
- Работает в PWA и нативных iOS/Android приложениях
- Поддерживает touch события
- Graceful degradation для устройств без поддержки touch

## Тестирование
Проект успешно собирается без ошибок и предупреждений. Все анимации протестированы и работают корректно.

